# 코루틴 순차처리

## 개념
코루틴에서 순차처리는 비동기 작업들을 순서대로 실행하는 방법입니다. 각 작업이 완료된 후 다음 작업을 시작합니다.

## 주요 키워드
- `async/await`: 비동기 함수 정의 및 대기
- `runBlocking`: 메인 스레드를 블록하며 코루틴 실행
- `launch`: 새로운 코루틴 시작 (결과 반환 X)
- `async`: 새로운 코루틴 시작 (결과 반환 O)

## 순차처리 방법

### 1. async/await 사용
```kotlin
suspend fun fetchData1(): String {
    delay(1000)
    return "Data 1"
}

suspend fun fetchData2(): String {
    delay(1000) 
    return "Data 2"
}

// 순차처리
runBlocking {
    val result1 = fetchData1()  // 1초 대기
    val result2 = fetchData2()  // 추가 1초 대기
    println("$result1, $result2")  // 총 2초 소요
}
```

### 2. async로 병렬처리 후 순차대기
```kotlin
runBlocking {
    val deferred1 = async { fetchData1() }
    val deferred2 = async { fetchData2() }
    
    val result1 = deferred1.await()  // 순차적으로 결과 대기
    val result2 = deferred2.await()
    println("$result1, $result2")  // 총 1초 소요 (병렬실행)
}
```

### 3. 조건부 순차처리
```kotlin
runBlocking {
    val result1 = fetchData1()
    
    if (result1.isNotEmpty()) {
        val result2 = fetchData2()  // result1 완료 후 실행
        println("$result1 -> $result2")
    }
}
```

## 장단점

### 장점
- 코드 가독성 향상
- 데이터 의존성 보장
- 메모리 사용량 예측 가능

### 단점
- 전체 실행시간 증가
- 병렬처리 대비 성능 저하

## 사용 시기
- 이전 작업의 결과가 다음 작업에 필요한 경우
- 리소스 제한으로 동시 실행이 불가능한 경우
- 순서가 중요한 비즈니스 로직